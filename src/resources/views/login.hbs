<div class="container-login">
    <div class="toast error">
        <div class="icon-toast">
            <svg fill="#BC0404" version="1.1" baseProfile="tiny" id="Layer_1" xmlns:x="&amp;ns_extend;" xmlns:i="&amp;ns_ai;" xmlns:graph="&amp;ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" viewBox="-0.5 0.5 42 42" xml:space="preserve">
            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
            <g id="SVGRepo_iconCarrier"> <path d="M29.582,8.683l-0.129,0.12L8.3,29.954c-0.249,0.249-0.428,0.478-0.547,0.688c-2.04-2.639-3.233-6-3.233-9.701 c0-8.797,6.626-15.482,15.421-15.482C23.632,5.459,26.955,6.644,29.582,8.683z M10.937,33.704c0.189-0.117,0.388-0.287,0.606-0.507 l21.151-21.151l0.041-0.04c1.74,2.518,2.746,5.602,2.746,8.994c0,8.785-6.696,15.541-15.481,15.541 C16.568,36.541,13.454,35.506,10.937,33.704z M0.5,21c0,10.775,8.735,19.5,19.5,19.5c10.767,0,19.501-8.725,19.501-19.5 c0-10.775-8.734-19.5-19.5-19.5C9.235,1.5,0.5,10.225,0.5,21z"/> </g>
            </svg>
        </div>
        <div class="content-toast">
            <p><b>Sự Cố:</b> 
            Sai Tài Khoản Hoặc Mật Khẩu
            <br>
            Vui Lòng Kiểm Tra Lại
            </p>
        </div>
    </div>
    {{#if msg}}
    <div class="toast error msg">
        <div class="icon-toast">
            <svg fill="#BC0404" version="1.1" baseProfile="tiny" id="Layer_1" xmlns:x="&amp;ns_extend;" xmlns:i="&amp;ns_ai;" xmlns:graph="&amp;ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" viewBox="-0.5 0.5 42 42" xml:space="preserve">
            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
            <g id="SVGRepo_iconCarrier"> <path d="M29.582,8.683l-0.129,0.12L8.3,29.954c-0.249,0.249-0.428,0.478-0.547,0.688c-2.04-2.639-3.233-6-3.233-9.701 c0-8.797,6.626-15.482,15.421-15.482C23.632,5.459,26.955,6.644,29.582,8.683z M10.937,33.704c0.189-0.117,0.388-0.287,0.606-0.507 l21.151-21.151l0.041-0.04c1.74,2.518,2.746,5.602,2.746,8.994c0,8.785-6.696,15.541-15.481,15.541 C16.568,36.541,13.454,35.506,10.937,33.704z M0.5,21c0,10.775,8.735,19.5,19.5,19.5c10.767,0,19.501-8.725,19.501-19.5 c0-10.775-8.734-19.5-19.5-19.5C9.235,1.5,0.5,10.225,0.5,21z"/> </g>
            </svg>
        </div>
        <div class="content-toast">
            <p><b>Sự Cố:</b> 
            Sai Tài Khoản Hoặc Mật Khẩu
            <br>
            Vui Lòng Kiểm Tra Lại
            </p>
        </div>
    </div>
    {{else}}
    {{/if}}
    <div class="background-inside">
        <div class="back-drop"></div>    
    </div>
    <form action="/login/apilogin"  method="POST" class="box-login">
        <div class="left-box">
            <div class="background-inside__left">
                <div class="back-drop__left"></div> 
            </div>
            <div class="top-left">
                <h1>Chào Mừng Trở Lại!</h1>
                <p>Chúc bạn có 1 ngày làm việc thật năng động và vủi vẻ</p>
            </div>
            <div class="bottom-left">
                <img src="/img/companyTPWhite.png" alt="" class="logo">
            </div>
        </div>
        <div class="right-box">
            <div class="primary-right">
                <img src="/img/companyTPBackground.png" alt="">
                <p>Hãy Sống Năng Động, Làm Việc Vui Vẻ: Năng Lượng Tạo Nên Thành Công!</p>
            </div>
            <div class="login-info username">
                <input id="username" type="text" name="username" required>
                <label class="username animation-label animation-label__username" for="username">Tên Đăng Nhập</label>
                <label for="username" class="username icon-login icon-login__username">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                        <g id="SVGRepo_iconCarrier"> <path d="M12 1C8.96243 1 6.5 3.46243 6.5 6.5C6.5 9.53757 8.96243 12 12 12C15.0376 12 17.5 9.53757 17.5 6.5C17.5 3.46243 15.0376 1 12 1Z"/> <path d="M7 14C4.23858 14 2 16.2386 2 19V22C2 22.5523 2.44772 23 3 23H21C21.5523 23 22 22.5523 22 22V19C22 16.2386 19.7614 14 17 14H7Z"/> </g>
                    </svg>
                </label>
            </div>
            <div class="login-info password">
                <input id="password" type="password" name="password" required>
                <label class="animation-label animation-label__password" for="password">Mật Khẩu</label>
                <label for="password" class="icon-login icon-login__password">
                    <svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                        <g id="SVGRepo_iconCarrier"> <path d="M52,24h-4v-8c0-8.836-7.164-16-16-16S16,7.164,16,16v8h-4c-2.211,0-4,1.789-4,4v32c0,2.211,1.789,4,4,4h40 c2.211,0,4-1.789,4-4V28C56,25.789,54.211,24,52,24z M32,48c-2.211,0-4-1.789-4-4s1.789-4,4-4s4,1.789,4,4S34.211,48,32,48z M40,24 H24v-8c0-4.418,3.582-8,8-8s8,3.582,8,8V24z"/> </g>
                    </svg>
                </label>
                <span class="show-password"><i class="bi bi-eye-slash-fill"></i></span>
            </div>
            <button class="submit-login" type="button">Đăng Nhập</button>
            <div class="support-login">
                <span>Cần Hỗ Trợ? Liên Hệ: <a href="mailto:nxt03091999@gmail.com">nxt03091999@gmail.com</a></span>
            </div>
        </div>
    </form>
</div>
<script>
    const toastErrorLogin = document.querySelector('.toast.error.msg');
    if(toastErrorLogin){
        visibleToast(toastErrorLogin)
    }
    const showpassword = document.querySelector('.show-password');
    const password = document.querySelector('.login-info #password');
    showpassword.addEventListener('click',()=>{
        if(password.type === 'password'){
            password.type = 'text'
            showpassword.innerHTML = '<i class="bi bi-eye-fill"></i>'
        }else{
            password.type = 'password'
            showpassword.innerHTML = '<i class="bi bi-eye-slash-fill"></i>'
        }
    });
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const submitLogin = document.querySelector('.submit-login');
    const msgErrorUsername = '<p><b>Sự Cố:</b> Chưa Điền Tên Đăng Nhập</p>';
    const msgErrorPassword = '<p><b>Sự Cố:</b> Chưa Điền Mật Khẩu</p>';
    const labelUsername = document.querySelector('.login-info.username label.animation-label');
    const svgUsername = document.querySelector('.login-info.username label.icon-login svg');
    const labelPassword = document.querySelector('.login-info.password label.animation-label');
    const svgPassword = document.querySelector('.login-info.password label.icon-login svg');
    const formLogin = document.querySelector('.box-login');
    submitLogin.addEventListener('click',()=>{
        if(usernameInput.value === ""){
            validateInput(usernameInput, msgErrorUsername);
            labelUsername.style.color = "#BC0404";
            svgUsername.style.fill = '#BC0404';
            usernameInput.addEventListener('input',()=>{
                if(usernameInput.value === ""){
                    labelUsername.style.color = "#BC0404";
                    svgUsername.style.fill = '#BC0404';
                    usernameInput.style.border = '1px solid #BC0404';
                }else{
                    labelUsername.style.color = "#bc9f6e";
                    svgUsername.style.fill = '#bc9f6e';
                    usernameInput.style.border = '1px solid #bc9f6e';
                }
            })
        } else if(passwordInput.value === ""){
            validateInput(passwordInput, msgErrorPassword);
            labelPassword.style.color = "#BC0404";
            svgPassword.style.fill = '#BC0404';
            passwordInput.addEventListener('input',()=>{
                if(passwordInput.value === ""){
                    labelPassword.style.color = "#BC0404";
                    svgPassword.style.fill = '#BC0404';
                    passwordInput.style.border = '1px solid #BC0404';
                }else{
                    labelPassword.style.color = "#bc9f6e";
                    svgPassword.style.fill = '#bc9f6e';
                    passwordInput.style.border = '1px solid #bc9f6e';
                }
            })
            }else{
                formLogin.submit();
            }
    })
</script>